{{ define "title" }}{{.Title}}{{ end }} {{define "content"}} {{range .Stories}}
<div
  data-controller="story"
  data-story-storyid="{{.ID}}"
  data-story-userid="{{$.SignedInUser.UserID}}"
  data-story-isAuthenticated="{{$.IsAuthenticated}}"
  data-story-points="{{.Points}}"
  class="flex flex-wrap w-full mt-2"
>
  <div
    data-target="story.voterWrapper"
    class="flex-row w-full {{if .IsUpvotedSignedInUser}} upvoted {{end}}"
  >
    <div class="voters">
      <a
        data-target="story.voter"
        data-action="{{if .IsUpvotedSignedInUser}} click->story#unvote {{else}} click->story#upvote {{end}}"
        class="upvoter"
        title="Add upvote"
      ></a>
    </div>
    <div>
      <a href="{{.URL}}" target="_blank" class="text-indigo-600 font-semibold"
        >{{.Title}}</a
      >
    </div>
  </div>
  <div class="flex-row w-full text-xs font-medium text-gray-600 ml-10">
    <span data-target="story.points">{{.Points}} points by </span>
    <span>
      <a href="/users/profile?user={{.UserName}}" class="text-gray-600"
        >{{.UserName}}</a
      >
      {{.SubmittedOnText}}
    </span>
    {{if $.IsAuthenticated}}
    <span
      >{{if .IsSavedBySignedInUser}} |
      <a href="/unsavestory" class="text-gray-600">unsave</a> {{else}} |
      <a href="/savestory" class="text-gray-600">save</a> {{end}}
    </span>
    {{end}}
    <span>
      |
      <a href="/stories/detail?id={{.ID}}" class="text-gray-600"
        >{{.CommentCount}} comments</a
      ></span
    >
  </div>
</div>
{{else}}
<div class="flex flex-wrap w-full mt-2">
  <p>No posts submitted yet.</p>
</div>
{{end}} {{end}}

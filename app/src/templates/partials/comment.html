{{define "comment"}}
<ul data-controller="comment" data-comment-commentid="{{.ID}}" data-comment-storyid="{{.StoryID}}"
  data-comment-username="{{if .SignedInUser}}{{.SignedInUser.UserName}}{{end}}"
  data-comment-isauthenticated="{{if .SignedInUser}}true{{else}}false{{end}}"
  class="flex flex-wrap w-full mt-3 {{if not .IsRoot}}pl-6{{end}}">
  <li class="w-full">
    <div class="flex-row w-full">
      <div class="voters">
        <a class="upvoter" title="Add upvote"></a>
      </div>
      <div class="text-gray-600 text-xs font-medium">
        <span>{{.UserName}}</span>
        <span> {{.CommentedOnText}}</span>
        {{if .SignedInUser}}
        <span>
          |
          <a class="text-gray-600" data-action="click->comment#showReplyBox">reply</a></span>
        {{end}}
      </div>
    </div>
    <div class="flex-row w-full ml-10">
      <p class="text-gray-800 text-sm">{{.Comment}}</p>
    </div>
    <div data-target="comment.form"></div>
    {{range .ChildComments}}
    {{template "comment" .}}
    {{end}}
    <div data-target="comment.output"></div>
  </li>
</ul>
{{end}}
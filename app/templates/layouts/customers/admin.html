{{template "layout" .}}
{{define "title" }}Admin Panel{{ end }}
{{define "content"}}
<form action="/admin" enctype="multipart/form-data" method="POST">
  <div class="md:w-3/4">
    <div class="md:w-1/3 md:text-right pb-5">
      <h3 class="text-lg">Admin Panel</h3>
    </div>

    <div class="md:flex md:items-center mb-4">
      <div class="md:w-1/3">
        <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-6" for="title">
          Platform Name
        </label>
      </div>
      <div class="md:w-2/3">
        <input
          class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500"
          id="name" name="name" type="text" value="{{.Name}}" placeholder="name" />
        {{with .Errors.Name}}
        <p class="text-red-500 text-sm italic">{{.}}</p>
        {{end}}
      </div>
    </div>

    <div class="md:flex md:items-center mb-4">
      <div class="md:w-1/3">
        <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-6" for="title">
          Custom Domain
        </label>
      </div>
      <div class="md:w-2/3">
        <input
          class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500"
          id="domain" name="domain" type="text" value="{{.Domain}}"
          placeholder="Optional. You can set it now or later." />
        {{with .Errors.Domain}}
        <p class="text-red-500 text-sm italic">{{.}}</p>
        {{end}}
      </div>
    </div>

    <div class="md:flex md:items-center mb-6">
      <div class="md:w-1/3">
      </div>
      <div class="md:w-2/3">
        <p class="text-gray-500">
          If you would like to use your own custom domain, enter it first into the above input box and click the update
          button below. Afterward visit your domain provider dashboard, create an A record and point it to
          <strong>128.199.33.31</strong>. If you would like to use a sub domain, create a CNAME record and
          point it to <strong>app.linkwind.co</strong>.</p>
      </div>
    </div>

    <div class="md:flex md:items-center mb-6">
      <div class="md:w-1/3">
        <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="img">
          Choose Logo
        </label>
      </div>
      <div class="md:w-2/3">
        <input type="file" id="img" name="logo" accept="image/jpeg">
        {{with .Errors.LogoImageAsBase64}}
        <p class="text-red-500 text-sm italic">{{.}}</p>
        {{end}}
      </div>
    </div>

      <div class="md:flex md:items-center mb-6">
        <div class="md:w-1/3">
          <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="img">
            Uploaded Logo
          </label>
        </div>
        <div class="md:w-2/3">
          {{if .LogoImageAsBase64}}
          <img src="data:image/jpg;base64,{{.LogoImageAsBase64}}">{{else}}
          <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="img"></label>
          Not uploaded yet
         </label>
          {{end}}
        </div>
      </div>
      <div class="md:w-2/3">
        <img src="data:image/jpg;base64,{{.LogoImageAsBase64}}">
      </div>
    </div>

    <div class="md:flex md:items-center mb-2">
      <div class="md:w-1/3">
        <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="title">
        </label>
      </div>
      <div class="md:w-2/3">
        <button
          class="shadow bg-gray-200 hover:bg-gray-400 focus:shadow-outline focus:outline-none text-gray-600 font-bold py-2 px-4 rounded"
          type="submit">
          Update
        </button>
        {{with .SuccessMessage}}
        <p class="text-green-500 text-sm italic">{{.}}</p>
        {{end}}
      </div>
    </div>
  </div>
</form>
{{end}}